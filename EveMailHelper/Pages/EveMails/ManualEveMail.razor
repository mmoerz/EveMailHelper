@page "/EveMails/ManualEveMail"

<MudCard Elevation="4">
    <MudCardHeader>
        <MudText Typo="Typo.h6">Manual Eve Mail</MudText>
    </MudCardHeader>
    <MudCardContent>
        <MudForm>
            <MudTextField T="string" @bind-Value="ReceiverString" Label="Receivers" HelperText="Enter receivers delimited by a colon."></MudTextField>
            <MudSelect T="Guid"
                       Label="Template"
                       @bind-Value="TemplateId"
                       HelperText="Choose a template to send"
                       Placeholder="select one">
                @if (templates != null)
                {
                    @foreach (EveMailTemplate template in templates)
                    {
                        <MudSelectItem Value="template.Id">@template.Subject</MudSelectItem>
                    }
                }
            </MudSelect>
        </MudForm>
    </MudCardContent>
    <MudCardActions>
        <MudButton Variant="Variant.Filled" Color="MudBlazor.Color.Primary" OnClick="@(()=> Cancel())">
            Cancel
        </MudButton>
        <MudButton Variant="Variant.Filled" Color="MudBlazor.Color.Primary" Class="ml-auto" OnClick="(()=> Submit())">
            Save
        </MudButton>
    </MudCardActions>
</MudCard>